==1939209== Memcheck, a memory error detector
==1939209== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1939209== Using Valgrind-3.15.0-608cb11914-20190413 and LibVEX; rerun with -h for copyright info
==1939209== Command: ./server_test
==1939209== Parent PID: 1939208
==1939209== 
--1939209-- 
--1939209-- Valgrind options:
--1939209--    --tool=memcheck
--1939209--    --leak-check=full
--1939209--    --show-reachable=yes
--1939209--    --track-origins=yes
--1939209--    --log-file=memchk.log
--1939209--    -v
--1939209-- Contents of /proc/version:
--1939209--   Linux version 5.15.0-67-generic (buildd@lcy02-amd64-029) (gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0, GNU ld (GNU Binutils for Ubuntu) 2.34) #74~20.04.1-Ubuntu SMP Wed Feb 22 14:52:34 UTC 2023
--1939209-- 
--1939209-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-ssse3-avx-avx2-bmi-f16c-rdrand
--1939209-- Page sizes: currently 4096, max supported 4096
--1939209-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--1939209-- Reading syms from /home/llz/codes/myserver/bin/server_test
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/ld-2.31.so
--1939209--   Considering /usr/lib/debug/.build-id/45/87364908de169dec62ffa538170118c1c3a078.debug ..
--1939209--   .. build-id is valid
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--1939209--    object doesn't have a symbol table
--1939209--    object doesn't have a dynamic symbol table
--1939209-- Scheduler: using generic scheduler lock implementation.
--1939209-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==1939209== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-1939209-by-root-on-???
==1939209== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-1939209-by-root-on-???
==1939209== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-1939209-by-root-on-???
==1939209== 
==1939209== TO CONTROL THIS PROCESS USING vgdb (which you probably
==1939209== don't want to do, unless you know exactly what you're doing,
==1939209== or are doing some strange experiment):
==1939209==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=1939209 ...command...
==1939209== 
==1939209== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==1939209==   /path/to/gdb ./server_test
==1939209== and then give GDB the following command
==1939209==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=1939209
==1939209== --pid is optional if only one valgrind process is running
==1939209== 
--1939209-- REDIR: 0x4022e20 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (???)
--1939209-- REDIR: 0x4022bf0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (???)
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--1939209--    object doesn't have a symbol table
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--1939209--    object doesn't have a symbol table
==1939209== WARNING: new redirection conflicts with existing -- ignoring it
--1939209--     old: 0x04022e20 (strlen              ) R-> (0000.0) 0x580c9ce2 ???
--1939209--     new: 0x04022e20 (strlen              ) R-> (2007.0) 0x0483f060 strlen
--1939209-- REDIR: 0x401f600 (ld-linux-x86-64.so.2:strcmp) redirected to 0x483ffd0 (strcmp)
--1939209-- REDIR: 0x4023380 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x4843a20 (mempcpy)
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28
--1939209--    object doesn't have a symbol table
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/libgcc_s.so.1
--1939209--    object doesn't have a symbol table
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/libpthread-2.31.so
--1939209--   Considering /usr/lib/debug/.build-id/7b/4536f41cdaa5888408e82d0836e33dcf436466.debug ..
--1939209--   .. build-id is valid
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/libc-2.31.so
--1939209--   Considering /usr/lib/debug/.build-id/18/78e6b475720c7c51969e69ab2d276fae6d1dee.debug ..
--1939209--   .. build-id is valid
--1939209-- Reading syms from /usr/lib/x86_64-linux-gnu/libm-2.31.so
--1939209--   Considering /usr/lib/debug/.build-id/fe/91b4090ea04c1559ff71dd9290062776618891.debug ..
--1939209--   .. build-id is valid
--1939209-- REDIR: 0x4b4d480 (libc.so.6:memmove) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c780 (libc.so.6:strncpy) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d7b0 (libc.so.6:strcasecmp) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c0a0 (libc.so.6:strcat) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c7e0 (libc.so.6:rindex) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4ec50 (libc.so.6:rawmemchr) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b69ce0 (libc.so.6:wmemchr) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b69820 (libc.so.6:wcscmp) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d5e0 (libc.so.6:mempcpy) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d410 (libc.so.6:bcmp) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c710 (libc.so.6:strncmp) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c150 (libc.so.6:strcmp) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d540 (libc.so.6:memset) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b697e0 (libc.so.6:wcschr) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c670 (libc.so.6:strnlen) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c230 (libc.so.6:strcspn) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d800 (libc.so.6:strncasecmp) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c1d0 (libc.so.6:strcpy) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d950 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b6af50 (libc.so.6:wcsnlen) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b69860 (libc.so.6:wcscpy) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c820 (libc.so.6:strpbrk) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c100 (libc.so.6:index) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4c630 (libc.so.6:strlen) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b55bb0 (libc.so.6:memrchr) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d850 (libc.so.6:strcasecmp_l) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d3d0 (libc.so.6:memchr) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b69930 (libc.so.6:wcslen) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4cae0 (libc.so.6:strspn) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d750 (libc.so.6:stpncpy) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d6f0 (libc.so.6:stpcpy) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4ec90 (libc.so.6:strchrnul) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4b4d8a0 (libc.so.6:strncasecmp_l) redirected to 0x48311d0 (_vgnU_ifunc_wrapper)
--1939209-- REDIR: 0x4c35500 (libc.so.6:__strrchr_avx2) redirected to 0x483ea10 (rindex)
--1939209-- REDIR: 0x4b470e0 (libc.so.6:malloc) redirected to 0x483b780 (malloc)
--1939209-- REDIR: 0x4c356d0 (libc.so.6:__strlen_avx2) redirected to 0x483ef40 (strlen)
--1939209-- REDIR: 0x4c31cc0 (libc.so.6:__memcmp_avx2_movbe) redirected to 0x48421e0 (bcmp)
--1939209-- REDIR: 0x4c30bd0 (libc.so.6:__strcmp_avx2) redirected to 0x483fed0 (strcmp)
--1939209-- REDIR: 0x4c386e0 (libc.so.6:__memcpy_avx_unaligned_erms) redirected to 0x48429f0 (memmove)
--1939209-- REDIR: 0x4937b20 (libstdc++.so.6:operator new(unsigned long)) redirected to 0x483bdf0 (operator new(unsigned long))
--1939209-- REDIR: 0x4c38b60 (libc.so.6:__memset_avx2_unaligned_erms) redirected to 0x48428e0 (memset)
--1939209-- REDIR: 0x4b48b10 (libc.so.6:calloc) redirected to 0x483dce0 (calloc)
--1939209-- REDIR: 0x4935d70 (libstdc++.so.6:operator delete(void*)) redirected to 0x483cf50 (operator delete(void*))
--1939209-- REDIR: 0x4c35310 (libc.so.6:__strchrnul_avx2) redirected to 0x4843540 (strchrnul)
--1939209-- REDIR: 0x4935d80 (libstdc++.so.6:operator delete(void*, unsigned long)) redirected to 0x483d160 (operator delete(void*, unsigned long))
--1939209-- REDIR: 0x4c386c0 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x4843660 (mempcpy)
==1939209== 
==1939209== Process terminating with default action of signal 2 (SIGINT)
==1939209==    at 0x4A9D4FF: accept (accept.c:26)
==1939209==    by 0x1257AC: Acceptor::run(std::vector<Worker*, std::allocator<Worker*> >&) (Server.hpp:55)
==1939209==    by 0x126377: Server::run() (Server.hpp:135)
==1939209==    by 0x1254BB: main (main.cpp:55)
--1939209-- REDIR: 0x4b476d0 (libc.so.6:free) redirected to 0x483c9d0 (free)
==1939209== 
==1939209== HEAP SUMMARY:
==1939209==     in use at exit: 111,167 bytes in 283 blocks
==1939209==   total heap usage: 1,254,099 allocs, 1,253,816 frees, 57,366,752 bytes allocated
==1939209== 
==1939209== Searching for pointers to 283 not-freed blocks
==1939209== Checked 167,891,496 bytes
==1939209== 
==1939209== 16 bytes in 1 blocks are still reachable in loss record 1 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x11FB9D: std::unique_ptr<std::thread::_State, std::default_delete<std::unique_ptr> > std::thread::_S_make_state<std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> > >(std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> >&&) (thread:206)
==1939209==    by 0x11E767: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11A201: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:115)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 23 bytes in 1 blocks are still reachable in loss record 2 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1282D8: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (basic_string.tcc:219)
==1939209==    by 0x118512: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:133)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 32 bytes in 1 blocks are still reachable in loss record 3 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x11FCEF: __gnu_cxx::new_allocator<std::thread>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x11E819: std::allocator_traits<std::allocator<std::thread> >::allocate(std::allocator<std::thread>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11D1F5: std::_Vector_base<std::thread, std::allocator<std::thread> >::_M_allocate(unsigned long) (stl_vector.h:343)
==1939209==    by 0x11B96A: void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<std::ThreadPool::__addOneThreads()::{lambda()#1}>(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:440)
==1939209==    by 0x11A247: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:121)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 32 bytes in 1 blocks are still reachable in loss record 4 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x10EC1D: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&, std::integral_constant<bool, false>) (std_function.h:252)
==1939209==    by 0x10E726: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&) (std_function.h:223)
==1939209==    by 0x10E300: std::function<void (Event*)>::function<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}, void, void>(HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}) (std_function.h:675)
==1939209==    by 0x10DF92: std::enable_if<std::function<void (Event*)>::_Callable<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::type, std::__invoke_result<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>&, Event*> >::value, std::function<void (Event*)>&>::type std::function<void (Event*)>::operator=<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>(std::decay&&) (std_function.h:525)
==1939209==    by 0x10D555: HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (Event.cpp:48)
==1939209==    by 0x125BFC: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:108)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 32 bytes in 1 blocks are still reachable in loss record 5 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x10EC1D: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&, std::integral_constant<bool, false>) (std_function.h:252)
==1939209==    by 0x10E726: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&) (std_function.h:223)
==1939209==    by 0x10E300: std::function<void (Event*)>::function<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}, void, void>(HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}) (std_function.h:675)
==1939209==    by 0x10DF92: std::enable_if<std::function<void (Event*)>::_Callable<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::type, std::__invoke_result<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>&, Event*> >::value, std::function<void (Event*)>&>::type std::function<void (Event*)>::operator=<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>(std::decay&&) (std_function.h:525)
==1939209==    by 0x10D555: HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (Event.cpp:48)
==1939209==    by 0x125C93: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:109)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 32 bytes in 1 blocks are still reachable in loss record 6 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x10EC1D: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&, std::integral_constant<bool, false>) (std_function.h:252)
==1939209==    by 0x10E726: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&) (std_function.h:223)
==1939209==    by 0x10E300: std::function<void (Event*)>::function<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}, void, void>(HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}) (std_function.h:675)
==1939209==    by 0x10DF92: std::enable_if<std::function<void (Event*)>::_Callable<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::type, std::__invoke_result<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>&, Event*> >::value, std::function<void (Event*)>&>::type std::function<void (Event*)>::operator=<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>(std::decay&&) (std_function.h:525)
==1939209==    by 0x10D555: HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (Event.cpp:48)
==1939209==    by 0x125D2A: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:110)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 32 bytes in 1 blocks are still reachable in loss record 7 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x128965: __gnu_cxx::new_allocator<Worker*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x128492: std::allocator_traits<std::allocator<Worker*> >::allocate(std::allocator<Worker*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x127BD5: std::_Vector_base<Worker*, std::allocator<Worker*> >::_M_allocate(unsigned long) (stl_vector.h:343)
==1939209==    by 0x12702B: std::vector<Worker*, std::allocator<Worker*> >::_M_default_append(unsigned long) (vector.tcc:635)
==1939209==    by 0x126706: std::vector<Worker*, std::allocator<Worker*> >::resize(unsigned long) (stl_vector.h:937)
==1939209==    by 0x125D6B: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:111)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 48 bytes in 3 blocks are still reachable in loss record 8 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x11FB9D: std::unique_ptr<std::thread::_State, std::default_delete<std::unique_ptr> > std::thread::_S_make_state<std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> > >(std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> >&&) (thread:206)
==1939209==    by 0x11E767: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11B9A7: void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<std::ThreadPool::__addOneThreads()::{lambda()#1}>(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:449)
==1939209==    by 0x11A247: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:121)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 56 bytes in 1 blocks are still reachable in loss record 9 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1141BF: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x1135C6: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1127F2: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:2134)
==1939209==    by 0x111C56: std::_Hashtable<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:361)
==1939209==    by 0x110EC0: std::_Hashtable<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_Hashtable<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const*>(std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const*, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const*, unsigned long, std::hash<int> const&, std::__detail::_Mod_range_hashing const&, std::__detail::_Default_ranged_hash const&, std::equal_to<int> const&, std::__detail::_Select1st const&, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) (hashtable.h:1021)
==1939209==    by 0x1104EC: std::_Hashtable<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_Hashtable(std::initializer_list<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, unsigned long, std::hash<int> const&, std::equal_to<int> const&, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) (hashtable.h:498)
==1939209==    by 0x110001: std::unordered_map<int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<int>, std::equal_to<int>, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >::unordered_map(std::initializer_list<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, unsigned long, std::hash<int> const&, std::equal_to<int> const&, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) (unordered_map.h:232)
==1939209==    by 0x10EFDC: __static_initialization_and_destruction_0(int, int) (Event.cpp:11)
==1939209==    by 0x10F0B5: _GLOBAL__sub_I__ZN10EventStuff15state_to_stringB5cxx11E (Event.cpp:125)
==1939209==    by 0x12B0AC: __libc_csu_init (in /home/llz/codes/myserver/bin/server_test)
==1939209==    by 0x4AD100F: (below main) (libc-start.c:264)
==1939209== 
==1939209== 64 bytes in 1 blocks are still reachable in loss record 10 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x121EC7: __gnu_cxx::new_allocator<std::function<void ()>*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x12196E: std::allocator_traits<std::allocator<std::function<void ()>*> >::allocate(std::allocator<std::function<void ()>*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x12100D: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_allocate_map(unsigned long) (stl_deque.h:634)
==1939209==    by 0x11FE3D: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_initialize_map(unsigned long) (stl_deque.h:707)
==1939209==    by 0x11E8A3: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_Deque_base() (stl_deque.h:510)
==1939209==    by 0x11D32F: std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::deque() (stl_deque.h:915)
==1939209==    by 0x11BBA7: std::queue<std::function<void ()>, std::deque<std::function<void ()>, std::allocator<std::function<void ()> > > >::queue<std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >, void>() (stl_queue.h:161)
==1939209==    by 0x11A287: LockQueue<std::function<void ()> >::LockQueue() (ThreadPool.hpp:20)
==1939209==    by 0x1184AB: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:133)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 64 bytes in 4 blocks are still reachable in loss record 11 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x11FB9D: std::unique_ptr<std::thread::_State, std::default_delete<std::unique_ptr> > std::thread::_S_make_state<std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> > >(std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> >&&) (thread:206)
==1939209==    by 0x11E767: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11A201: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:115)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x11551D: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 64 bytes in 4 blocks are still reachable in loss record 12 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x12323E: std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter> std::__future_base::_S_allocate_result<void, int>(std::allocator<int> const&) (future:303)
==1939209==    by 0x123176: std::__future_base::_Task_state_base<void ()>::_Task_state_base<std::allocator<int> >(std::allocator<int> const&) (future:1387)
==1939209==    by 0x129B83: std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)> >(std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (future:1413)
==1939209==    by 0x129AE0: void __gnu_cxx::new_allocator<int>::construct<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>*, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (new_allocator.h:146)
==1939209==    by 0x1299CD: void std::allocator_traits<std::allocator<int> >::construct<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::allocator<int>&, std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>*, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (alloc_traits.h:483)
==1939209==    by 0x1297F8: std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr_base.h:548)
==1939209==    by 0x129556: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>*&, std::_Sp_alloc_shared_tag<std::allocator<int> >, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr_base.h:679)
==1939209==    by 0x129459: std::__shared_ptr<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::_Sp_alloc_shared_tag<std::allocator<int> >, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr_base.h:1344)
==1939209==    by 0x12937A: std::shared_ptr<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()> >::shared_ptr<std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::_Sp_alloc_shared_tag<std::allocator<int> >, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr.h:359)
==1939209==    by 0x1292E4: std::shared_ptr<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()> > std::allocate_shared<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::allocator<int> const&, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr.h:702)
==1939209==    by 0x1255ED: std::shared_ptr<std::__future_base::_Task_state_base<void ()> > std::__create_task_state<void (), std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> >(std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (future:1454)
==1939209== 
==1939209== 64 bytes in 4 blocks are still reachable in loss record 13 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x127DF9: std::_Function_base::_Base_manager<auto std::ThreadPool::submit<void (&)(Server*, int), Server*, int&>(void (&)(Server*, int), Server*&&, int&)::{lambda()#1}>::_M_clone(std::_Any_data&, std::_Function_base::_Base_manager<auto std::ThreadPool::submit<void (&)(Server*, int), Server*, int&>(void (&)(Server*, int), Server*&&, int&)::{lambda()#1}> const&, std::integral_constant<bool, false>) (std_function.h:176)
==1939209==    by 0x1273E3: std::_Function_base::_Base_manager<auto std::ThreadPool::submit<void (&)(Server*, int), Server*, int&>(void (&)(Server*, int), Server*&&, int&)::{lambda()#1}>::_M_manager(std::_Any_data&, std::_Function_base::_Base_manager<auto std::ThreadPool::submit<void (&)(Server*, int), Server*, int&>(void (&)(Server*, int), Server*&&, int&)::{lambda()#1}> const&, std::_Manager_operation) (std_function.h:211)
==1939209==    by 0x11B726: std::function<void ()>::function(std::function<void ()> const&) (std_function.h:659)
==1939209==    by 0x11A05B: LockQueue<std::function<void ()> >::front() (ThreadPool.hpp:53)
==1939209==    by 0x1181EC: std::ThreadPool::__addOneThreads()::{lambda()#1}::operator()() const (ThreadPool.hpp:113)
==1939209==    by 0x1249E3: void std::__invoke_impl<void, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::__invoke_other, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (invoke.h:60)
==1939209==    by 0x124842: std::__invoke_result<std::ThreadPool::__addOneThreads()::{lambda()#1}>::type std::__invoke<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::__invoke_result&&, (std::ThreadPool::__addOneThreads()::{lambda()#1}&&)...) (invoke.h:95)
==1939209==    by 0x124375: void std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> >::_M_invoke<0ul>(std::_Index_tuple<0ul>) (thread:244)
==1939209==    by 0x123F03: std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> >::operator()() (thread:251)
==1939209==    by 0x123BB1: std::thread::_State_impl<std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> > >::_M_run() (thread:195)
==1939209==    by 0x4963DE3: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209== 
==1939209== 80 bytes in 1 blocks are still reachable in loss record 14 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x111153: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x1106FC: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:726)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10CF07: HandleMap::HandleMap() (Event.cpp:17)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 80 bytes in 1 blocks are still reachable in loss record 15 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x111153: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x1106FC: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:726)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10CF67: HandleMap::HandleMap() (Event.cpp:18)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 80 bytes in 1 blocks are still reachable in loss record 16 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x111153: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x1106FC: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:726)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10CFC7: HandleMap::HandleMap() (Event.cpp:19)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 80 bytes in 1 blocks are still reachable in loss record 17 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x111153: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x1106FC: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:726)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10D027: HandleMap::HandleMap() (Event.cpp:20)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 80 bytes in 1 blocks are still reachable in loss record 18 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x111153: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x1106FC: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:726)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10D087: HandleMap::HandleMap() (Event.cpp:21)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 80 bytes in 1 blocks are still reachable in loss record 19 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x111153: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x1106FC: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:726)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10D0E7: HandleMap::HandleMap() (Event.cpp:22)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 96 bytes in 1 blocks are still reachable in loss record 20 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x128C49: __gnu_cxx::new_allocator<std::function<void (Event*)> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x128740: std::allocator_traits<std::allocator<std::function<void (Event*)> > >::allocate(std::allocator<std::function<void (Event*)> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1280C5: std::_Vector_base<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >::_M_allocate(unsigned long) (stl_vector.h:343)
==1939209==    by 0x127734: void std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >::_M_range_initialize<std::function<void (Event*)> const*>(std::function<void (Event*)> const*, std::function<void (Event*)> const*, std::forward_iterator_tag) (stl_vector.h:1579)
==1939209==    by 0x126BDF: std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >::vector(std::initializer_list<std::function<void (Event*)> >, std::allocator<std::function<void (Event*)> > const&) (stl_vector.h:626)
==1939209==    by 0x125437: main (main.cpp:44)
==1939209== 
==1939209== 104 bytes in 1 blocks are still reachable in loss record 21 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1141BF: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x1135C6: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11468E: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:2134)
==1939209==    by 0x113B2C: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:361)
==1939209==    by 0x112E20: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_rehash_aux(unsigned long, std::integral_constant<bool, true>) (hashtable.h:2123)
==1939209==    by 0x11207E: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_rehash(unsigned long, unsigned long const&) (hashtable.h:2102)
==1939209==    by 0x1112D6: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>*, unsigned long) (hashtable.h:1748)
==1939209==    by 0x11071E: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (hashtable_policy.h:729)
==1939209==    by 0x1100B1: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (unordered_map.h:990)
==1939209==    by 0x10CF07: HandleMap::HandleMap() (Event.cpp:17)
==1939209==    by 0x1259F0: Server::Server() (Server.hpp:94)
==1939209== 
==1939209== 128 bytes in 4 blocks are still reachable in loss record 22 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x11FCEF: __gnu_cxx::new_allocator<std::thread>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x11E819: std::allocator_traits<std::allocator<std::thread> >::allocate(std::allocator<std::thread>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11D1F5: std::_Vector_base<std::thread, std::allocator<std::thread> >::_M_allocate(unsigned long) (stl_vector.h:343)
==1939209==    by 0x11B96A: void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<std::ThreadPool::__addOneThreads()::{lambda()#1}>(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:440)
==1939209==    by 0x11A247: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:121)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x11551D: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 128 bytes in 4 blocks are still reachable in loss record 23 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x10EC1D: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&, std::integral_constant<bool, false>) (std_function.h:252)
==1939209==    by 0x10E726: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&) (std_function.h:223)
==1939209==    by 0x10E300: std::function<void (Event*)>::function<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}, void, void>(HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}) (std_function.h:675)
==1939209==    by 0x10DF92: std::enable_if<std::function<void (Event*)>::_Callable<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::type, std::__invoke_result<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>&, Event*> >::value, std::function<void (Event*)>&>::type std::function<void (Event*)>::operator=<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>(std::decay&&) (std_function.h:525)
==1939209==    by 0x10D555: HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (Event.cpp:48)
==1939209==    by 0x115CE4: Worker::init() (Worker.cpp:43)
==1939209==    by 0x125ED3: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:119)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 128 bytes in 4 blocks are still reachable in loss record 24 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x10EC1D: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&, std::integral_constant<bool, false>) (std_function.h:252)
==1939209==    by 0x10E726: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_init_functor(std::_Any_data&, {lambda(Event*)#1}&&) (std_function.h:223)
==1939209==    by 0x10E300: std::function<void (Event*)>::function<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}, void, void>(HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}) (std_function.h:675)
==1939209==    by 0x10DF92: std::enable_if<std::function<void (Event*)>::_Callable<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::type, std::__invoke_result<std::decay<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>&, Event*> >::value, std::function<void (Event*)>&>::type std::function<void (Event*)>::operator=<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>(std::decay&&) (std_function.h:525)
==1939209==    by 0x10D555: HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&) (Event.cpp:48)
==1939209==    by 0x115D7E: Worker::init() (Worker.cpp:48)
==1939209==    by 0x125ED3: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:119)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 128 bytes in 4 blocks are still reachable in loss record 25 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x121F73: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x121B26: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1213C7: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:97)
==1939209==    by 0x128A8D: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, std::_Bind<void (*(Server*, int))(Server*, int)> >(std::packaged_task<void ()>*&, std::_Sp_alloc_shared_tag<std::allocator<std::packaged_task<void ()> > >, std::_Bind<void (*(Server*, int))(Server*, int)>&&) (shared_ptr_base.h:677)
==1939209==    by 0x128575: std::__shared_ptr<std::packaged_task<void ()>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<std::packaged_task<void ()> >, std::_Bind<void (*(Server*, int))(Server*, int)> >(std::_Sp_alloc_shared_tag<std::allocator<std::packaged_task<void ()> > >, std::_Bind<void (*(Server*, int))(Server*, int)>&&) (shared_ptr_base.h:1344)
==1939209==    by 0x127CD6: std::shared_ptr<std::packaged_task<void ()> >::shared_ptr<std::allocator<std::packaged_task<void ()> >, std::_Bind<void (*(Server*, int))(Server*, int)> >(std::_Sp_alloc_shared_tag<std::allocator<std::packaged_task<void ()> > >, std::_Bind<void (*(Server*, int))(Server*, int)>&&) (shared_ptr.h:359)
==1939209==    by 0x1272A5: std::shared_ptr<std::packaged_task<void ()> > std::allocate_shared<std::packaged_task<void ()>, std::allocator<std::packaged_task<void ()> >, std::_Bind<void (*(Server*, int))(Server*, int)> >(std::allocator<std::packaged_task<void ()> > const&, std::_Bind<void (*(Server*, int))(Server*, int)>&&) (shared_ptr.h:702)
==1939209==    by 0x1269B0: std::shared_ptr<std::packaged_task<void ()> > std::make_shared<std::packaged_task<void ()>, std::_Bind<void (*(Server*, int))(Server*, int)> >(std::_Bind<void (*(Server*, int))(Server*, int)>&&) (shared_ptr.h:718)
==1939209==    by 0x1261D7: auto std::ThreadPool::submit<void (&)(Server*, int), Server*, int&>(void (&)(Server*, int), Server*&&, int&) (ThreadPool.hpp:195)
==1939209==    by 0x126340: Server::run() (Server.hpp:133)
==1939209==    by 0x1254BB: main (main.cpp:55)
==1939209== 
==1939209== 192 bytes in 12 blocks are still reachable in loss record 26 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x11FB9D: std::unique_ptr<std::thread::_State, std::default_delete<std::unique_ptr> > std::thread::_S_make_state<std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> > >(std::thread::_Invoker<std::tuple<std::ThreadPool::__addOneThreads()::{lambda()#1}> >&&) (thread:206)
==1939209==    by 0x11E767: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11B9A7: void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<std::ThreadPool::__addOneThreads()::{lambda()#1}>(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:449)
==1939209==    by 0x11A247: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:121)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x11551D: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 256 bytes in 4 blocks are still reachable in loss record 27 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x115267: __gnu_cxx::new_allocator<int*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x114FA6: std::allocator_traits<std::allocator<int*> >::allocate(std::allocator<int*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1148F1: std::_Deque_base<int, std::allocator<int> >::_M_allocate_map(unsigned long) (stl_deque.h:634)
==1939209==    by 0x11EBA1: std::_Deque_base<int, std::allocator<int> >::_M_initialize_map(unsigned long) (stl_deque.h:707)
==1939209==    by 0x11D63F: std::_Deque_base<int, std::allocator<int> >::_Deque_base() (stl_deque.h:510)
==1939209==    by 0x11BE55: std::deque<int, std::allocator<int> >::deque() (stl_deque.h:915)
==1939209==    by 0x11A51B: std::queue<int, std::deque<int, std::allocator<int> > >::queue<std::deque<int, std::allocator<int> >, void>() (stl_queue.h:161)
==1939209==    by 0x118EC9: SharedQueue<int>::SharedQueue() (shared_queue.hpp:6)
==1939209==    by 0x1154DC: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 256 bytes in 4 blocks are still reachable in loss record 28 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x115267: __gnu_cxx::new_allocator<int*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x114FA6: std::allocator_traits<std::allocator<int*> >::allocate(std::allocator<int*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1148F1: std::_Deque_base<int, std::allocator<int> >::_M_allocate_map(unsigned long) (stl_deque.h:634)
==1939209==    by 0x11EBA1: std::_Deque_base<int, std::allocator<int> >::_M_initialize_map(unsigned long) (stl_deque.h:707)
==1939209==    by 0x11D63F: std::_Deque_base<int, std::allocator<int> >::_Deque_base() (stl_deque.h:510)
==1939209==    by 0x11BE55: std::deque<int, std::allocator<int> >::deque() (stl_deque.h:915)
==1939209==    by 0x11A51B: std::queue<int, std::deque<int, std::allocator<int> > >::queue<std::deque<int, std::allocator<int> >, void>() (stl_queue.h:161)
==1939209==    by 0x118EC9: SharedQueue<int>::SharedQueue() (shared_queue.hpp:6)
==1939209==    by 0x1154EE: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 256 bytes in 4 blocks are still reachable in loss record 29 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x121EC7: __gnu_cxx::new_allocator<std::function<void ()>*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x12196E: std::allocator_traits<std::allocator<std::function<void ()>*> >::allocate(std::allocator<std::function<void ()>*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x12100D: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_allocate_map(unsigned long) (stl_deque.h:634)
==1939209==    by 0x11FE3D: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_initialize_map(unsigned long) (stl_deque.h:707)
==1939209==    by 0x11E8A3: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_Deque_base() (stl_deque.h:510)
==1939209==    by 0x11D32F: std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::deque() (stl_deque.h:915)
==1939209==    by 0x11BBA7: std::queue<std::function<void ()>, std::deque<std::function<void ()>, std::allocator<std::function<void ()> > > >::queue<std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >, void>() (stl_queue.h:161)
==1939209==    by 0x11A287: LockQueue<std::function<void ()> >::LockQueue() (ThreadPool.hpp:20)
==1939209==    by 0x1184AB: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:133)
==1939209==    by 0x11551D: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209== 
==1939209== 288 bytes in 6 blocks are still reachable in loss record 30 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x115028: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x114B23: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x114281: std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> > >::_M_allocate_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&>(std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&) (hashtable_policy.h:2081)
==1939209==    by 0x11370A: std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> > >::operator()<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&>(std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&) const (hashtable_policy.h:167)
==1939209==    by 0x11298D: std::pair<std::__detail::_Node_iterator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false, false>, bool> std::_Hashtable<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_insert<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> > > >(std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, false> > > const&, std::integral_constant<bool, true>, unsigned long) (hashtable.h:1852)
==1939209==    by 0x111CB8: std::__detail::_Insert_base<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::insert(std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const&) (hashtable_policy.h:824)
==1939209==    by 0x110EF0: std::_Hashtable<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_Hashtable<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const*>(std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const*, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > const*, unsigned long, std::hash<int> const&, std::__detail::_Mod_range_hashing const&, std::__detail::_Default_ranged_hash const&, std::equal_to<int> const&, std::__detail::_Select1st const&, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) (hashtable.h:1026)
==1939209==    by 0x1104EC: std::_Hashtable<int, std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_Hashtable(std::initializer_list<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, unsigned long, std::hash<int> const&, std::equal_to<int> const&, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) (hashtable.h:498)
==1939209==    by 0x110001: std::unordered_map<int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<int>, std::equal_to<int>, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >::unordered_map(std::initializer_list<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >, unsigned long, std::hash<int> const&, std::equal_to<int> const&, std::allocator<std::pair<int const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) (unordered_map.h:232)
==1939209==    by 0x10EFDC: __static_initialization_and_destruction_0(int, int) (Event.cpp:11)
==1939209==    by 0x10F0B5: _GLOBAL__sub_I__ZN10EventStuff15state_to_stringB5cxx11E (Event.cpp:125)
==1939209== 
==1939209== 288 bytes in 1 blocks are possibly lost in loss record 31 of 48
==1939209==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x40149DA: allocate_dtv (dl-tls.c:286)
==1939209==    by 0x40149DA: _dl_allocate_tls (dl-tls.c:532)
==1939209==    by 0x4A93322: allocate_stack (allocatestack.c:622)
==1939209==    by 0x4A93322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1939209==    by 0x49640A8: std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209==    by 0x11E77E: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11A201: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:115)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209==    by 0x1253A3: main (main.cpp:42)
==1939209== 
==1939209== 320 bytes in 4 blocks are still reachable in loss record 32 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x129A41: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x1298D4: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x12969D: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:97)
==1939209==    by 0x1294E3: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>*&, std::_Sp_alloc_shared_tag<std::allocator<int> >, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr_base.h:677)
==1939209==    by 0x129459: std::__shared_ptr<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::_Sp_alloc_shared_tag<std::allocator<int> >, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr_base.h:1344)
==1939209==    by 0x12937A: std::shared_ptr<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()> >::shared_ptr<std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::_Sp_alloc_shared_tag<std::allocator<int> >, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr.h:359)
==1939209==    by 0x1292E4: std::shared_ptr<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()> > std::allocate_shared<std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>, std::allocator<int>, std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> const&>(std::allocator<int> const&, std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (shared_ptr.h:702)
==1939209==    by 0x1255ED: std::shared_ptr<std::__future_base::_Task_state_base<void ()> > std::__create_task_state<void (), std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int> >(std::_Bind<void (*(Server*, int))(Server*, int)>&&, std::allocator<int> const&) (future:1454)
==1939209==    by 0x12923C: std::packaged_task<void ()>::packaged_task<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void>(std::allocator_arg_t, std::allocator<int> const&, std::_Bind<void (*(Server*, int))(Server*, int)>&&) (future:1501)
==1939209==    by 0x1291AA: std::packaged_task<void ()>::packaged_task<std::_Bind<void (*(Server*, int))(Server*, int)>, void>(std::_Bind<void (*(Server*, int))(Server*, int)>&&) (future:1492)
==1939209==    by 0x12912A: void __gnu_cxx::new_allocator<std::packaged_task<void ()> >::construct<std::packaged_task<void ()>, std::_Bind<void (*(Server*, int))(Server*, int)> >(std::packaged_task<void ()>*, std::_Bind<void (*(Server*, int))(Server*, int)>&&) (new_allocator.h:146)
==1939209== 
==1939209== 384 bytes in 12 blocks are still reachable in loss record 33 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x10ECCD: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_clone(std::_Any_data&, std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}> const&, std::integral_constant<bool, false>) (std_function.h:176)
==1939209==    by 0x10E817: std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}>::_M_manager(std::_Any_data&, std::_Function_base::_Base_manager<HandleMap::bindHandle(std::function<void (Event*)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&&)::{lambda(Event*)#1}> const&, std::_Manager_operation) (std_function.h:211)
==1939209==    by 0x10FE3A: std::function<void (Event*)>::function(std::function<void (Event*)> const&) (std_function.h:659)
==1939209==    by 0x1100EF: std::function<void (Event*)>::operator=(std::function<void (Event*)> const&) (std_function.h:464)
==1939209==    by 0x10D337: HandleMap::HandleMap(HandleMap const&) (Event.cpp:30)
==1939209==    by 0x1155A2: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 416 bytes in 4 blocks are still reachable in loss record 34 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1141BF: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x1135C6: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11468E: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:2134)
==1939209==    by 0x113B2C: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:361)
==1939209==    by 0x112E20: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_rehash_aux(unsigned long, std::integral_constant<bool, true>) (hashtable.h:2123)
==1939209==    by 0x11207E: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_rehash(unsigned long, unsigned long const&) (hashtable.h:2102)
==1939209==    by 0x1112D6: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>*, unsigned long) (hashtable.h:1748)
==1939209==    by 0x110975: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (hashtable_policy.h:704)
==1939209==    by 0x11021E: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (unordered_map.h:986)
==1939209==    by 0x10D325: HandleMap::HandleMap(HandleMap const&) (Event.cpp:30)
==1939209==    by 0x1155A2: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209== 
==1939209== 512 bytes in 1 blocks are still reachable in loss record 35 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1216E9: __gnu_cxx::new_allocator<std::function<void ()> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x12099D: std::allocator_traits<std::allocator<std::function<void ()> > >::allocate(std::allocator<std::function<void ()> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11F307: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_allocate_node() (stl_deque.h:620)
==1939209==    by 0x121092: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_create_nodes(std::function<void ()>**, std::function<void ()>**) (stl_deque.h:745)
==1939209==    by 0x11FE93: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_initialize_map(unsigned long) (stl_deque.h:719)
==1939209==    by 0x11E8A3: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_Deque_base() (stl_deque.h:510)
==1939209==    by 0x11D32F: std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::deque() (stl_deque.h:915)
==1939209==    by 0x11BBA7: std::queue<std::function<void ()>, std::deque<std::function<void ()>, std::allocator<std::function<void ()> > > >::queue<std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >, void>() (stl_queue.h:161)
==1939209==    by 0x11A287: LockQueue<std::function<void ()> >::LockQueue() (ThreadPool.hpp:20)
==1939209==    by 0x1184AB: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:133)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209== 
==1939209== 512 bytes in 1 blocks are still reachable in loss record 36 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1216E9: __gnu_cxx::new_allocator<std::function<void ()> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x12099D: std::allocator_traits<std::allocator<std::function<void ()> > >::allocate(std::allocator<std::function<void ()> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11F307: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_allocate_node() (stl_deque.h:620)
==1939209==    by 0x11DD54: void std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_push_back_aux<std::function<void ()>&>(std::function<void ()>&) (deque.tcc:492)
==1939209==    by 0x11C73E: std::function<void ()>& std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::emplace_back<std::function<void ()>&>(std::function<void ()>&) (deque.tcc:174)
==1939209==    by 0x11AACD: decltype(auto) std::queue<std::function<void ()>, std::deque<std::function<void ()>, std::allocator<std::function<void ()> > > >::emplace<std::function<void ()>&>(std::function<void ()>&) (stl_queue.h:271)
==1939209==    by 0x11AB23: LockQueue<std::function<void ()> >::push(std::function<void ()>&) (ThreadPool.hpp:36)
==1939209==    by 0x119406: auto std::ThreadPool::submit<void (&)(Event*, Worker*), Event*&, Worker*>(void (&)(Event*, Worker*), Event*&, Worker*&&) (ThreadPool.hpp:199)
==1939209==    by 0x11612A: Worker::work() (Worker.cpp:104)
==1939209==    by 0x12570F: Worker::run() (Worker.hpp:36)
==1939209==    by 0x126089: Server::foo(Server*, int) (Server.hpp:124)
==1939209== 
==1939209== 864 bytes in 3 blocks are possibly lost in loss record 37 of 48
==1939209==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x40149DA: allocate_dtv (dl-tls.c:286)
==1939209==    by 0x40149DA: _dl_allocate_tls (dl-tls.c:532)
==1939209==    by 0x4A93322: allocate_stack (allocatestack.c:622)
==1939209==    by 0x4A93322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1939209==    by 0x49640A8: std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209==    by 0x11E77E: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11B9A7: void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<std::ThreadPool::__addOneThreads()::{lambda()#1}>(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:449)
==1939209==    by 0x11A247: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:121)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x1259B4: Server::Server() (Server.hpp:94)
==1939209== 
==1939209== 960 bytes in 40 blocks are still reachable in loss record 38 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x120A1C: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<int const, Event*>, false> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x11F439: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<int const, Event*>, false> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<int const, Event*>, false> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11DF41: std::__detail::_Hash_node<std::pair<int const, Event*>, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<int const, Event*>, false> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<int const&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<int const&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x11C825: std::__detail::_Map_base<int, std::pair<int const, Event*>, std::allocator<std::pair<int const, Event*> >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, true>::operator[](int const&) (hashtable_policy.h:701)
==1939209==    by 0x11AC46: std::unordered_map<int, Event*, std::hash<int>, std::equal_to<int>, std::allocator<std::pair<int const, Event*> > >::operator[](int const&) (unordered_map.h:986)
==1939209==    by 0x116778: Worker::handleWaitQueue() (Worker.cpp:169)
==1939209==    by 0x115FE4: Worker::work() (Worker.cpp:81)
==1939209==    by 0x12570F: Worker::run() (Worker.hpp:36)
==1939209==    by 0x126089: Server::foo(Server*, int) (Server.hpp:124)
==1939209==    by 0x12B053: void std::__invoke_impl<void, void (*&)(Server*, int), Server*&, int&>(std::__invoke_other, void (*&)(Server*, int), Server*&, int&) (invoke.h:60)
==1939209==    by 0x12AF9A: std::__invoke_result<void (*&)(Server*, int), Server*&, int&>::type std::__invoke<void (*&)(Server*, int), Server*&, int&>(void (*&)(Server*, int), Server*&, int&) (invoke.h:95)
==1939209== 
==1939209== 1,152 bytes in 4 blocks are possibly lost in loss record 39 of 48
==1939209==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x40149DA: allocate_dtv (dl-tls.c:286)
==1939209==    by 0x40149DA: _dl_allocate_tls (dl-tls.c:532)
==1939209==    by 0x4A93322: allocate_stack (allocatestack.c:622)
==1939209==    by 0x4A93322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1939209==    by 0x49640A8: std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209==    by 0x11E77E: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11A201: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:115)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x11551D: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209== 
==1939209== 1,536 bytes in 3 blocks are still reachable in loss record 40 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1216E9: __gnu_cxx::new_allocator<std::function<void ()> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x12099D: std::allocator_traits<std::allocator<std::function<void ()> > >::allocate(std::allocator<std::function<void ()> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11F307: std::_Deque_base<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_allocate_node() (stl_deque.h:620)
==1939209==    by 0x11DD54: void std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::_M_push_back_aux<std::function<void ()>&>(std::function<void ()>&) (deque.tcc:492)
==1939209==    by 0x11C73E: std::function<void ()>& std::deque<std::function<void ()>, std::allocator<std::function<void ()> > >::emplace_back<std::function<void ()>&>(std::function<void ()>&) (deque.tcc:174)
==1939209==    by 0x11AACD: decltype(auto) std::queue<std::function<void ()>, std::deque<std::function<void ()>, std::allocator<std::function<void ()> > > >::emplace<std::function<void ()>&>(std::function<void ()>&) (stl_queue.h:271)
==1939209==    by 0x11AB23: LockQueue<std::function<void ()> >::push(std::function<void ()>&) (ThreadPool.hpp:36)
==1939209==    by 0x119406: auto std::ThreadPool::submit<void (&)(Event*, Worker*), Event*&, Worker*>(void (&)(Event*, Worker*), Event*&, Worker*&&) (ThreadPool.hpp:199)
==1939209==    by 0x1162AD: Worker::work() (Worker.cpp:121)
==1939209==    by 0x12570F: Worker::run() (Worker.hpp:36)
==1939209==    by 0x126089: Server::foo(Server*, int) (Server.hpp:124)
==1939209== 
==1939209== 1,920 bytes in 24 blocks are still reachable in loss record 41 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x112CD9: __gnu_cxx::new_allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x111F57: std::allocator_traits<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::allocate(std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> >&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x11153B: std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, true> > >::_M_allocate_node<std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&>&&, std::tuple<>&&) (hashtable_policy.h:2081)
==1939209==    by 0x110953: std::__detail::_Map_base<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true>, true>::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (hashtable_policy.h:701)
==1939209==    by 0x11021E: std::unordered_map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::function<void (Event*)>, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::function<void (Event*)> > > >::operator[](std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (unordered_map.h:986)
==1939209==    by 0x10D325: HandleMap::HandleMap(HandleMap const&) (Event.cpp:30)
==1939209==    by 0x1155A2: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209==    by 0x125E0E: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== 2,048 bytes in 4 blocks are still reachable in loss record 42 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1149F7: __gnu_cxx::new_allocator<int>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x114029: std::allocator_traits<std::allocator<int> >::allocate(std::allocator<int>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1132F3: std::_Deque_base<int, std::allocator<int> >::_M_allocate_node() (stl_deque.h:620)
==1939209==    by 0x112552: void std::deque<int, std::allocator<int> >::_M_push_back_aux<int const&>(int const&) (deque.tcc:492)
==1939209==    by 0x1117BE: std::deque<int, std::allocator<int> >::push_back(int const&) (stl_deque.h:1579)
==1939209==    by 0x110AFE: std::queue<int, std::deque<int, std::allocator<int> > >::push(int const&) (stl_queue.h:260)
==1939209==    by 0x1102E4: void SharedQueue<int>::push<int&>(int&) (shared_queue.hpp:16)
==1939209==    by 0x1258D6: Acceptor::run(std::vector<Worker*, std::allocator<Worker*> >&) (Server.hpp:78)
==1939209==    by 0x126377: Server::run() (Server.hpp:135)
==1939209==    by 0x1254BB: main (main.cpp:55)
==1939209== 
==1939209== 2,048 bytes in 4 blocks are still reachable in loss record 43 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1149F7: __gnu_cxx::new_allocator<int>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x114029: std::allocator_traits<std::allocator<int> >::allocate(std::allocator<int>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x1132F3: std::_Deque_base<int, std::allocator<int> >::_M_allocate_node() (stl_deque.h:620)
==1939209==    by 0x112552: void std::deque<int, std::allocator<int> >::_M_push_back_aux<int const&>(int const&) (deque.tcc:492)
==1939209==    by 0x1117BE: std::deque<int, std::allocator<int> >::push_back(int const&) (stl_deque.h:1579)
==1939209==    by 0x110AFE: std::queue<int, std::deque<int, std::allocator<int> > >::push(int const&) (stl_queue.h:260)
==1939209==    by 0x1102E4: void SharedQueue<int>::push<int&>(int&) (shared_queue.hpp:16)
==1939209==    by 0x116934: Worker::closeFd(Event*) (Worker.cpp:205)
==1939209==    by 0x115B21: Worker::init()::{lambda(Event*)#1}::operator()(Event*) const (Worker.cpp:41)
==1939209==    by 0x116D1D: std::_Function_handler<void (Event*), Worker::init()::{lambda(Event*)#1}>::_M_invoke(std::_Any_data const&, Event*&&) (std_function.h:300)
==1939209==    by 0x11026E: std::function<void (Event*)>::operator()(Event*) const (std_function.h:688)
==1939209== 
==1939209== 2,600 bytes in 40 blocks are still reachable in loss record 44 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x49D035D: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_mutate(unsigned long, unsigned long, char const*, unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209==    by 0x49D0E8F: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_replace_aux(unsigned long, unsigned long, unsigned long, char) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209==    by 0x10F7A6: Event::__init() (Event.hpp:33)
==1939209==    by 0x10D661: Event::Event(HandleMap const&, int, Worker*) (Event.cpp:55)
==1939209==    by 0x116756: Worker::handleWaitQueue() (Worker.cpp:168)
==1939209==    by 0x115FE4: Worker::work() (Worker.cpp:81)
==1939209==    by 0x12570F: Worker::run() (Worker.hpp:36)
==1939209==    by 0x126089: Server::foo(Server*, int) (Server.hpp:124)
==1939209==    by 0x12B053: void std::__invoke_impl<void, void (*&)(Server*, int), Server*&, int&>(std::__invoke_other, void (*&)(Server*, int), Server*&, int&) (invoke.h:60)
==1939209==    by 0x12AF9A: std::__invoke_result<void (*&)(Server*, int), Server*&, int&>::type std::__invoke<void (*&)(Server*, int), Server*&, int&>(void (*&)(Server*, int), Server*&, int&) (invoke.h:95)
==1939209==    by 0x12AE07: void std::_Bind<void (*(Server*, int))(Server*, int)>::__call<void, , 0ul, 1ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul>) (functional:400)
==1939209== 
==1939209== 3,456 bytes in 12 blocks are possibly lost in loss record 45 of 48
==1939209==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x40149DA: allocate_dtv (dl-tls.c:286)
==1939209==    by 0x40149DA: _dl_allocate_tls (dl-tls.c:532)
==1939209==    by 0x4A93322: allocate_stack (allocatestack.c:622)
==1939209==    by 0x4A93322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1939209==    by 0x49640A8: std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.28)
==1939209==    by 0x11E77E: std::thread::thread<std::ThreadPool::__addOneThreads()::{lambda()#1}, , void>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (thread:130)
==1939209==    by 0x11CFFA: void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (new_allocator.h:146)
==1939209==    by 0x11B882: void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::allocator<std::thread>&, std::thread*, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (alloc_traits.h:483)
==1939209==    by 0x11B9A7: void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<std::ThreadPool::__addOneThreads()::{lambda()#1}>(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:449)
==1939209==    by 0x11A247: std::thread& std::vector<std::thread, std::allocator<std::thread> >::emplace_back<std::ThreadPool::__addOneThreads()::{lambda()#1}>(std::ThreadPool::__addOneThreads()::{lambda()#1}&&) (vector.tcc:121)
==1939209==    by 0x11836F: std::ThreadPool::__addOneThreads() (ThreadPool.hpp:130)
==1939209==    by 0x118545: std::ThreadPool::ThreadPool(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (ThreadPool.hpp:138)
==1939209==    by 0x11551D: Worker::Worker(HandleMap&, int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) (Worker.cpp:5)
==1939209== 
==1939209== 4,800 bytes in 40 blocks are still reachable in loss record 46 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x116734: Worker::handleWaitQueue() (Worker.cpp:168)
==1939209==    by 0x115FE4: Worker::work() (Worker.cpp:81)
==1939209==    by 0x12570F: Worker::run() (Worker.hpp:36)
==1939209==    by 0x126089: Server::foo(Server*, int) (Server.hpp:124)
==1939209==    by 0x12B053: void std::__invoke_impl<void, void (*&)(Server*, int), Server*&, int&>(std::__invoke_other, void (*&)(Server*, int), Server*&, int&) (invoke.h:60)
==1939209==    by 0x12AF9A: std::__invoke_result<void (*&)(Server*, int), Server*&, int&>::type std::__invoke<void (*&)(Server*, int), Server*&, int&>(void (*&)(Server*, int), Server*&, int&) (invoke.h:95)
==1939209==    by 0x12AE07: void std::_Bind<void (*(Server*, int))(Server*, int)>::__call<void, , 0ul, 1ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul>) (functional:400)
==1939209==    by 0x12A948: void std::_Bind<void (*(Server*, int))(Server*, int)>::operator()<, void>() (functional:484)
==1939209==    by 0x12A59A: void std::__invoke_impl<void, std::_Bind<void (*(Server*, int))(Server*, int)>&>(std::__invoke_other, std::_Bind<void (*(Server*, int))(Server*, int)>&) (invoke.h:60)
==1939209==    by 0x12A32F: std::__invoke_result<std::_Bind<void (*(Server*, int))(Server*, int)>&>::type std::__invoke<std::_Bind<void (*(Server*, int))(Server*, int)>&>(std::_Bind<void (*(Server*, int))(Server*, int)>&) (invoke.h:95)
==1939209==    by 0x12A078: std::__future_base::_Task_state<std::_Bind<void (*(Server*, int))(Server*, int)>, std::allocator<int>, void ()>::_M_run()::{lambda()#1}::operator()() const (future:1421)
==1939209== 
==1939209== 32,992 bytes in 4 blocks are still reachable in loss record 47 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x1141BF: __gnu_cxx::new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) (new_allocator.h:114)
==1939209==    by 0x1135C6: std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) (alloc_traits.h:443)
==1939209==    by 0x121A14: std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<std::pair<int const, Event*>, false> > >::_M_allocate_buckets(unsigned long) (hashtable_policy.h:2134)
==1939209==    by 0x12120E: std::_Hashtable<int, std::pair<int const, Event*>, std::allocator<std::pair<int const, Event*> >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_allocate_buckets(unsigned long) (hashtable.h:361)
==1939209==    by 0x120282: std::_Hashtable<int, std::pair<int const, Event*>, std::allocator<std::pair<int const, Event*> >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash_aux(unsigned long, std::integral_constant<bool, true>) (hashtable.h:2123)
==1939209==    by 0x11EEF6: std::_Hashtable<int, std::pair<int const, Event*>, std::allocator<std::pair<int const, Event*> >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::_M_rehash(unsigned long, unsigned long const&) (hashtable.h:2102)
==1939209==    by 0x11D91D: std::_Hashtable<int, std::pair<int const, Event*>, std::allocator<std::pair<int const, Event*> >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true> >::rehash(unsigned long) (hashtable.h:2085)
==1939209==    by 0x11C249: std::__detail::_Rehash_base<int, std::pair<int const, Event*>, std::allocator<std::pair<int const, Event*> >, std::__detail::_Select1st, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, false, true>, std::integral_constant<bool, true> >::reserve(unsigned long) (hashtable_policy.h:1077)
==1939209==    by 0x11A744: std::unordered_map<int, Event*, std::hash<int>, std::equal_to<int>, std::allocator<std::pair<int const, Event*> > >::reserve(unsigned long) (unordered_map.h:1133)
==1939209==    by 0x115C6B: Worker::init() (Worker.cpp:38)
==1939209==    by 0x125ED3: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:119)
==1939209== 
==1939209== 51,360 bytes in 4 blocks are still reachable in loss record 48 of 48
==1939209==    at 0x483BE63: operator new(unsigned long) (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1939209==    by 0x125DE9: Server::init(std::vector<std::function<void (Event*)>, std::allocator<std::function<void (Event*)> > >) (Server.hpp:115)
==1939209==    by 0x12549D: main (main.cpp:53)
==1939209== 
==1939209== LEAK SUMMARY:
==1939209==    definitely lost: 0 bytes in 0 blocks
==1939209==    indirectly lost: 0 bytes in 0 blocks
==1939209==      possibly lost: 5,760 bytes in 20 blocks
==1939209==    still reachable: 105,407 bytes in 263 blocks
==1939209==         suppressed: 0 bytes in 0 blocks
==1939209== 
==1939209== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)
